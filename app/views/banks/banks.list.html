  <div class="row" id="main-container">
    <div class="col-md-12">
      <h2>Bancos</h2>
      <table id="bancos" ng-form="vm.tableForm" ng-table="vm.tableParams" class="tabla table table-hover table-striped" demo-tracked-table="vm.tableTracker"  template-header="templateHeader.html" template-pagination="pagination">
        <colgroup>
          <col width="{{vm.size3}}%" />
          <col width="{{vm.size}}%" />
          <col width="{{vm.size2}}%" />
          <col width="1%" />
          <col width="2%" />
          <col width="20%" />
          <col width="40%" />
          <col width="1%" />
          <col width="1%" />
          <col width="10%" />
          <col width="1%" />
          <col width="2%" />
        </colgroup>
        <tr class="ng-table-group" ng-repeat-start="banks in $groups">
          <td colspan="11">
            <a href="" ng-click="banks.$hideRows = !banks.$hideRows">
              <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': banks.$hideRows, 'glyphicon-chevron-down': !banks.$hideRows }"></span>
              <strong>{{banks.value}}</strong>
              <p style="display: none">
                {{vm.size=(banks.value.length==2)?20:10; vm.size2=(banks.value.length!=2)?20:8; vm.size3=(banks.value.length==2)?10:5}}</p>
            </a>
          </td>
        </tr>            
        <tr ng-hide="banks.$hideRows" ng-form="rowForm" id="form-small" ng-repeat="bank in banks.data" ng-repeat-end demo-tracked-table-row="bank">
            <td data-title="'Pais'" sortable="'country'" ng-switch="bank.isEditing" ng-form="country" ng-class="country.$dirty ? 'has-warning' : ''" demo-tracked-table-cell groupable="'country'" ng-if="false">
                <span ng-switch-default class="editable-text">{{bank.country}}</span>
                <div class="form-group" ng-class="country.$invalid && country.$dirty ? 'has-error' : ''" ng-switch-when="true">
                  <input type="text" class="form-control input-sm" id="country" name="country" ng-model="bank.country" required>
                </div>
            </td>
            <td title="'Nombre'" sortable="'name'" ng-form="name" ng-switch="bank.isEditing" ng-form="name" ng-class="name.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.name}}</span>
                <div class="form-group" ng-class="name.$valid  && name.$dirty? 'has-error':''" ng-switch-when="true">
                  <input type="text" name="name" id="name" class="form-control input-sm" ng-model="bank.name" required>
                </div>
            </td>
            <td title="'Cuenta'" sortable="'account'" ng-form="account" ng-switch="bank.isEditing" ng-form="account" ng-class="account.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.account}}</span>
                <div class="form-group" ng-class="account.$valid && account.$dirty? 'has-error':''" ng-switch-when="true">
                  <input type="text" name="account" id="account" class="form-control input-sm" ng-model="bank.account" required>
                </div>
            </td>
            <td title="'Tipo de Cuenta'" sortable="'account_type'" ng-form="account_type" ng-switch="bank.isEditing" ng-form="account_type" ng-class="account_type.$dirty ? 'has-warning' : ''" groupable="'account_type'" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.account_type}}</span>
                <div class="form-group" ng-class="account_type.$valid && account_type.$dirty? 'has-error':''" ng-switch-when="true">
                  <input class="form-control input-sm" type="text" id="account_type" name="account_type" ng-model="bank.account_type" required></input>
                </div>
            </td>
            <td title="'Moneda'" sortable="'currency'" ng-form="currency" ng-switch="bank.isEditing" ng-form="currency" ng-class="currency.$dirty ? 'has-warning' : ''" groupable="'currency'" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.currency}}</span>
                <div class="form-group" ng-class="currency.$valid && currency.$dirty? 'has-error':''" ng-switch-when="true">
                  <input type="text" name="currency" id="currency" class="form-control input-sm" ng-model="bank.currency" required>
                </div>
            </td>
            <td title="'Titular'" sortable="'owner'" ng-form="owner" ng-switch="bank.isEditing" ng-form="owner" ng-class="owner.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.owner}}</span>
                <div class="form-group" ng-class="owner.$valid && owner.$dirty? 'has-error':''" ng-switch-when="true">
                  <input type="text" name="owner" id="owner" class="form-control input-sm" ng-model="bank.owner" required>
                </div>
            </td>
            <td title="'Id Titular'" sortable="'owner_id'" ng-form="owner_id" ng-switch="bank.isEditing" ng-form="owner_id" ng-class="owner_id.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.owner_id}}</span>
                <div class="form-group" ng-class="owner_id.$valid && owner_id.$dirty? 'has-error':''" ng-switch-when="true">
                  <input type="text" name="owner_id" id="owner_id" class="form-control input-sm" ng-model="bank.owner_id">
                </div>
            </td>
            <td title="'Logo'" ng-switch="bank.isEditing" ng-form="logo" ng-class="logo.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.logo}}</span>
                <div class="form-group" ng-switch-when="true">
                  <input type="file" id="logo" name="logo" ng-model="bank.logo" class="form-control"></input>
                </div>
            </td>
            <td class="text-center" title="'Entrada'" sortable="'available_in'" ng-form="available_in" ng-switch="bank.isEditing" ng-form="available_in" ng-class="available_in.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.available_in}}</span>
                <div class="form-group" ng-switch-when="true">
                  <input type="checkbox" name="available_in" id="available_in" ng-model="bank.available_in">
                </div>
            </td>
            <td class="text-center" title="'Salida'" sortable="'available_out'" ng-form="available_out" ng-switch="bank.isEditing" ng-form="available_out" ng-class="available_out.$dirty ? 'has-warning' : ''" demo-tracked-table-cell>
                <span class="text-center" ng-switch-default>{{bank.available_out}}</span>
                <div class="form-group" ng-switch-when="true">
                  <input type="checkbox" name="available_out" id="available_out" ng-model="bank.available_out">
                </div>
            </td>
            <td title="'Mensaje'" sortable="'public_msg'" ng-form="public_msg" ng-switch="bank.isEditing" ng-form="public_msg" demo-tracked-table-cell>
                <span ng-switch-default>{{bank.public_msg}}</span>
                <div class="form-group" ng-switch-when="true">
                  <textarea name="public_msg" id="public_msg" cols="60" rows="3" class="form-control" ng-model="bank.public_msg"></textarea>
                </div>
            </td>
            <td>
              <div class="btn-group-vertical">
                  <div class="btn-group" ng-if="!bank.isEditing">
                    <button class="btn btn-primary btn-sm" ng-click="bank.isEditing = true"><span class="fa fa-pencil"></span></button>
                  </div>
                  <div class="btn-group" ng-if="bank.isEditing">
                    <button class="btn btn-primary btn-sm" ng-click="vm.save(bank, rowForm)" ng-disabled="rowForm.$pristine || rowForm.$invalid"><span class="fa fa-check"></span></button>
                  </div>
                  <div class="btn-group" ng-if="bank.isEditing">
                    <button class="btn btn-primary btn-sm" ng-click="vm.cancel(bank, rowForm)"><span class="fa fa-remove"></span></button>
                  </div>
                  <div class="btn-group" ng-if="!bank.isEditing">
                    <button class="btn btn-danger btn-sm" ng-click="vm.del(bank)"><span class="fa fa-trash-o"></span></button>
                  </div>
              </div>
            </td>            
        </tr>
      </table>

      <script type="text/ng-template" id="pagination">
        <div class="ng-cloak ng-table-pager" ng-if="params.data.length">
          <span>
              Mostrando Filas de <strong>{{ ((params.page()-1)*params.count())+1 }}</strong>
                a <strong>{{ (params.page()*params.count()) > params.settings().total ? params.settings().total : params.page()*params.count() }}</strong>
                de <strong>{{ params.settings().total }}</strong> recuperados. Ver
                <span ng-if="params.settings().counts.length" class="ng-table-counts btn-group btn-group-sm clearfix">
                    <button ng-repeat="count in params.settings().counts" type="button" ng-class="{'btn-primary':params.count()==count}" ng-click="params.count(count)" class="btn btn-default btn-lg">
                      <span ng-bind="count"></span>
                    </button>
                </span> grupos de registros.
          </span>
          <ul class="pagination ng-table-pagination pull-right">
            <li ng-class="{'disabled': !page.active && !page.current, 'active': page.current}" ng-repeat="page in pages" ng-switch="page.type">
              <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a>
              <a ng-switch-when="first" ng-click="params.page(page.number)" href="">
                <span ng-bind="page.number"></span>
              </a>
              <a ng-switch-when="page" ng-click="params.page(page.number)" href="">
                <span ng-bind="page.number"></span>
              </a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a>
              <a ng-switch-when="last" ng-click="params.page(page.number)" href="">
                <span ng-bind="page.number"></span>
              </a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a>
            </li>
          </ul>
        </div>
      </script>

      <script type="text/ng-template" id="templateHeader.html">
        <custom-group-row></custom-group-row>
        <ng-table-sorter-row></ng-table-sorter-row>
      </script>

      <script type="text/ng-template" id="customGroupRow.html">
        <tr ng-if="params.hasGroup()" ng-show="$groupRow.show" class="ng-table-group-header">
          <th colspan="{{getVisibleColumns().length}}">
            <ul class="nav nav-pills pull-left">
              <li role="presentation" ng-repeat="group in getGroupables()" ng-class="isSelectedGroup(group) ? 'active' : ''">
                <a href="" ng-click="groupBy(group)" id="{{getGroupTitle(group)}}" count-clicks>
                  <strong id="texto-grupo">{{ getGroupTitle(group)}}</strong>
                  <span ng-if="isSelectedGroup(group)" class="glyphicon" ng-class="{'glyphicon-sort-by-alphabet': params.hasGroup($selGroup, 'asc'),
                                  'glyphicon-sort-by-alphabet-alt': params.hasGroup($selGroup, 'desc')}">
                  </span>
                </a>
              </li>
            </ul>
            <form name="vm.searchForm" class="pull-right" novalidate ng-submit="vm.aplicarBusquedaGlobal()">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Buscar.." name="terminoBusqueda" ng-model="vm.terminoGlobalBusqueda" ng-keyup="vm.aplicarBusquedaGlobal()"/>
                <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" ng-disabled="vm.searchForm.$invalid">
                      <span class="glyphicon glyphicon-search"></span>
                    </button>
                </span>
              </div>
            </form>
            <div class="btn-group pull-right">
              <a href="" ng-click="vm.nuevo()" class="btn btn-primary">
                <span class="glyphicon glyphicon-plus"></span>
              </a>
            </div>
          </th>
        </tr>
      </script>  

    </div>
  </div>